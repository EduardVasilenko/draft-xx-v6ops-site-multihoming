Client applications typically utilize getaddrinfo() to establish communication and to decide source address selection. It was initially assumed in [SASA] and implemented by getaddrinfo() that the next hop is chosen before the source address.
Bind() permits overriding this order but it is typically used only for server-side applications.
This specific process is the reason why in the case of a network fault, when a redundant CPE/link is promoted into the primary role, some specific destinations may become unreachable, causing the solutions listed hereafter to leave some unresolved scenarios.
The initial discussion on carrier resiliency occured in the [Shim6] working group and it was proposed to separate location from identity addresses. [Shim6] did not gain market acceptance. 
The next notable step was the addition of rule 5.5 to [SASA] that restricts the selection of a source address to those already advertised by the chosen next hop router. It permits the packet to be on the path to the PA-owning carrier to avoid packet filtering due to violation of [BCP38]. 
With reference to figure 1, if connectivity to Carrier 1 is lost then the host would select a source address in the prefix belonging to Carrier 2 to communicate with a certain destination outside of its local segment, thus achieving resiliency.
On the other hand, this method is not a solution when only a particular source address is permitted (not filtered) to reach a  particular resource (e.g., “subscriber-only services”) or when any traffic distribution policy is desired because random next hop choice would lead to random source address choice.

Then [MHMP] has discussed the problem thoroughly with an attempt to use only available tools. It has been spotted that the solution needs to push related policies to the host as 1) “Routing Information Options” of [Route Preferences] and 2) [Policy by DHCP] to modify policies in the [SASA] selection algorithm. This solution has not gotten market acceptance for complexity reasons. Moreover, DHCPv6 is not available on all platforms with notable absenses on widely deployed platforms.

Additionally, [HNCP] did ask to deprecate delegated prefixes (set preferred time to zero) if the router has information about the path loss to the carrier that sourced the prefix. It is very important for renumbering (PA prefix may change after re-connect to the carrier).
The next solution has been proposed in [Multi-Homing]. The document has incorrectly assumed that the source address is chosen first (errata already published) --cite publication-- in the typical scenario. [Multi-Homing] section 3.2 has proposed choosing the next hop only among routers that advertise the already chosen source address. Hence, [Multi-Homing] unblocks the possibility for the application to use bind() for choosing sources address first because section 3.2 is vital instruction for how to choose the next hop after this. It is important to note that the more common scenario of choosing the next hop first is not resolved by [Multi-Homing].
A further step in the problem discussion is [MHMP Enterprise] which discusses potentially complex on-site topologies and source routing that is needed for such a scenario. It may be considered as the comprehensive guide for the source routing aspect of the complex site with carriers' resiliency. Unfortunately, at this time it is not possible to use it in practice yet due to a lack of any market-accepted solutions to split and distribute PA prefixes over the complex site. All other solutions (PI, ULA+NAT, ULA+NPT) do not require source routing in principle. [MHMP Enterprise] would become vital when a solution would be adopted for PA prefix split and propagation over the complex site, but as previously stated, it is currently unavable due to lack of any viable option.
Restriction on the list of applicable source addresses for a specific next hop (rule 5 or 5.5 of [SASA]) may not be implemented in the particular OS then [Conditional PIO] permits mitigating this problem by selective PIOs announcements to a particular host. It is a valuable feature for the transition period until such a time when all hosts would implement rule 5.5 of [SASA].
[DNS Options] permits the router to supply addresses of many DNS resolvers but it is not possible to indicate which DNS resolver is related to particular prefixes that are needed for scenarios with any traffic steering policies (including access to filtered resources like “subscriber-only services”).
Finally, [Provisioning domains] permit virtualization of the router on the link, representing one physical as many logical with a separate full set of link parameters. It is valuable for some scenarios in delivering more rich information to the host but it does not help the host to properly choose the combination of the next hop and source address that is still restricted by [SASA]. It is the same challenge independent of how many physical or logical routers are present on the link. Moreover, virtualization of the single router on the link that has two uplinks to different carriers would create a problem because the host may randomly choose the wrong combination of the source address and next hop announced by one virtual router.
Yet, [Provisioning domains] is valuable for the scenario when many routers are behind the same router and at the same time, many physical routers are present on the link (the problem of host choice already exists) because in contrast to [DNS Options] it shows relationships between DNS resolvers and prefixes from the same carrier.
